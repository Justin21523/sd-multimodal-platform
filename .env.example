# .env.example - Phase 5 Complete Configuration
# Copy this file to .env and modify according to your setup

# === Basic API Settings ===
API_PREFIX=/api/v1
PORT=8000
HOST=0.0.0.0
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:8000

# === Environment and Mode Settings ===
ENVIRONMENT=development
MINIMAL_MODE=false
DEBUG=true

# === Hardware Configuration ===
DEVICE=cuda
TORCH_DTYPE=float16
USE_SDPA=true
ENABLE_XFORMERS=false
ENABLE_CPU_OFFLOAD=false
USE_ATTENTION_SLICING=true

# === Model Configuration ===
PRIMARY_MODEL=sdxl-base

# === Path Configuration ===
MODELS_PATH=./models
SD_MODEL_PATH=./models/stable-diffusion
SDXL_MODEL_PATH=./models/sdxl
CONTROLNET_PATH=./models/controlnet
LORA_PATH=./models/lora
VAE_PATH=./models/vae
OUTPUT_PATH=./outputs

# === Phase 5: Post-processing Paths ===
UPSCALE_MODELS_PATH=./models/upscale
FACE_RESTORE_MODELS_PATH=./models/face-restore

# === Generation Settings ===
DEFAULT_WIDTH=1024
DEFAULT_HEIGHT=1024
DEFAULT_STEPS=25
DEFAULT_CFG=7.5
DEFAULT_SAMPLER=DPM++ 2M Karras

# === Performance Limits ===
MAX_WORKERS=1
MAX_BATCH_SIZE=4
REQUEST_TIMEOUT=300
MAX_FILE_SIZE=10

# === Phase 5: Queue Configuration ===
ENABLE_QUEUE=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# === Celery Configuration ===
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# === Task Queue Settings ===
TASK_TIME_LIMIT=3600
TASK_SOFT_TIME_LIMIT=3300
WORKER_MAX_TASKS=10
TASK_RETENTION_HOURS=72

# === Phase 5: Post-processing Settings ===
ENABLE_POSTPROCESS=true
POSTPROCESS_MAX_IMAGES=10
UPSCALE_MAX_SCALE=4

# === Batch Processing Settings ===
BATCH_TIMEOUT=7200

# === Memory Management ===
VRAM_CLEANUP_THRESHOLD=0.8
AUTO_CLEANUP_MODELS=true

# === Security Settings ===
SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_EXPIRE_HOURS=24
ENABLE_NSFW_FILTER=true
ENABLE_RATE_LIMITING=true

# === Logging and Monitoring ===
LOG_LEVEL=INFO
ENABLE_REQUEST_LOGGING=true
ENABLE_PROMETHEUS=false
SENTRY_DSN=

# === Storage Settings ===
ENABLE_METADATA_LOGGING=true
KEEP_GENERATIONS_DAYS=7